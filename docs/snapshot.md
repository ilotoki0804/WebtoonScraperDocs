# 스냅샷

웹툰을 저장하는 위치와 웹툰을 다운로드하는 위치가 다른 경우 웹툰의 다운로드 상태를 통해 다운로드를 관리하기 어려울 수 있습니다. 그럴 경우 스냅샷을 이용해 웹툰 디렉토리의 상태를 보존할 수 있습니다.

현재는 CLI에서만 기능을 지원하며, 이 기능은 향후에 개선, 제거, 미지원 가능성이 있습니다.

## CLI

웹툰 디렉토리 이름이 `웹툰(1234)`일 경우 해당 디렉토리에 대해 스냅샷을 설정하려면 다음의 명령어를 사용할 수 있습니다.

```console
webtoon snap "웹툰(1234)"
```

해당 명령어를 실행하면 웹툰 디렉토리의 바로 옆에 `웹툰(1234).snapshots`라는 이름의 파일이 생성될 겁니다.
이를 스냅샷 파일이라고 하며, 이 스냅샷 파일이 있는 경우 `웹툰(1234)` 디렉토리를 다른 곳으로 이동하더라도 WebtoonScraper는 마치 해당 디렉토리가 여전히 존재하는 것처럼 에피소드를 스킵하는 등의 기능을 그대로 수행합니다.

여타 다른 기능들과 마찬가지로 디렉토리 선택을 통해 접근할 수도 있습니다.

```console
webtoon snap . -s
```

### 압축 파일의 스냅샷

또한 압축 파일에 대해서도 스냅샷을 생성할 수도 있습니다. 이때는 명령어에 `--zip`을 붙여야 합니다.

```console
webtoon snap "웹툰(1234).zip" --zip
webtoon snap . -s --zip
```

다만 이 경우 `웹툰(1234)`가 *아닌* `웹툰(1234).zip`에 대한 스냅샷이 생성되기에 파일명이 `웹툰(1234).zip.snapshots`인 점에 주의하새요.
이때 중간에 있는 `.zip`을 제거하면 원래 웹툰 디렉토리에 대한 스냅샷 파일처럼 사용할 수 있습니다.

>[!WARNING]
> `.zip`이 아닌 압축 포맷(7z, tgz, tar, 등)은 지원되지 않습니다.

### 재스냅

한번 스냅샷이 생성된 경우에도 동일한 명령어(`webtoon snap ...`)를 통해 스냅샷을 업데이트할 수 있습니다.
이렇게 하면 현재 폴더 내부에 있는 파일의 정보가 스냅샷에 더해집니다.

>[!WARNING]
> 스냅샷에는 정보가 쓰여지지만 제거되지는 않습니다. 이런 누적적인 특성 때문에 스냅샷을 과도하게 사용해서는 안 되며, 파일이 이동하는 등 불가피한 상황에서는 재스냅을 해야 합니다.
