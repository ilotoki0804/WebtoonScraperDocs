<html>
    <p>다음의 링크를 드래그해서 즐겨찾기 바에 올려놓아 즐겨찾기에 추가하세요.</p>
    <p>Drag following link to favorites.</p>
    <p><a href="javascript:%28%28%29%20%3D%3E%20%7B%0A%20%20%20%20let%20token%20%3D%20localStorage.getItem%28%22accessToken%22%29%3B%0A%20%20%20%20if%20%28token%29%20%7B%0A%20%20%20%20%20%20%20%20prompt%28%22here%20is%20the%20bearer%20string%3A%22%2C%20%60Bearer%20%24%7Btoken%7D%60%29%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20token%20%3D%20JSON.parse%28document.querySelector%28%22%23__NEXT_DATA__%22%29.text%29.props.pageProps.userData.accessToken.token%0A%20%20%20%20%20%20%20%20%20%20%20%20prompt%28%22here%20is%20the%20bearer%20string%3A%22%2C%20%60Bearer%20%24%7Btoken%7D%60%29%3B%0A%20%20%20%20%20%20%20%20%7D%20catch%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20regex%20%3D%20/%5C%5C%22accessToken%5C%5C%22%3A%5C%5C%22%28%5B%5E%5C%5C%5D%2B%29%5C%5C%22/%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20is_matched%20%3D%20false%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20bearer%0A%20%20%20%20%20%20%20%20%20%20%20%20for%20%28script%20of%20document.querySelectorAll%28%22script%22%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20matched%20%3D%20script.innerText.match%28regex%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28matched%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20bearer%20%3D%20matched%5B1%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20is_matched%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28is_matched%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20prompt%28%22here%20is%20the%20bearer%20string%3A%22%2C%20%60Bearer%20%24%7Bbearer%7D%60%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20alert%28%22You%20are%20not%20on%20the%20right%20site%20or%20you%20haven%5C%27t%20logged%20in.%22%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%7D%29%28%29">get bearer</a></p>
    <script>
        // 인코딩 시에는 urllib.parse.quote를 사용하면 됨.
        /*
        // 모든 bearer를 가져오는 코드
        (() => {
            let token = localStorage.getItem("accessToken");
            if (token) {
                prompt("here is the bearer string:", `Bearer ${token}`);
            } else {
                try {
                    let token = JSON.parse(document.querySelector("#__NEXT_DATA__").text).props.pageProps.userData.accessToken.token
                    prompt("here is the bearer string:", `Bearer ${token}`);
                } catch {
                    let regex = /\\"accessToken\\":\\"([^\\]+)\\"/;
                    let is_matched = false;
                    let bearer
                    for (script of document.querySelectorAll("script")) {
                        let matched = script.innerText.match(regex);
                        if (matched) {
                            bearer = matched[1];
                            is_matched = true;
                            break;
                        }
                    }
                    if (is_matched) {
                        prompt("here is the bearer string:", `Bearer ${bearer}`);
                    } else {
                        alert("You are not on the right site or you haven\'t logged in.");
                    }
                }
            }
        })()

        // 봄툰만
        (() => {
            try {
                let token = JSON.parse(document.querySelector("#__NEXT_DATA__").text).props.pageProps.userData.accessToken.token
                prompt("here is the bearer string:", `Bearer ${token}`);
            } catch {
                alert("You are not on the Bomtoon or you haven't logged in.");
            }
        })()

        // 이만배만
        (() => {
            let token = localStorage.getItem("accessToken");
            if (token) {
                prompt("here is the bearer string:", `Bearer ${token}`);
            } else {
                alert("You are not on the Emanbae or you haven't logged in.");
            }
        })()

        // 레진코믹스만
        (() => {
            let regex = /\\"accessToken\\":\\"([^\\]+)\\"/;
            let is_matched = false;
            let bearer
            for (script of document.querySelectorAll("script")) {
                let matched = script.innerText.match(regex);
                if (matched) {
                    bearer = matched[1];
                    is_matched = true;
                    break;
                }
            }
            if (is_matched) {
                prompt("here is the bearer string:", `Bearer ${bearer}`);
            } else {
                alert("You are not on the Lezhin Comics or you haven\'t logged in.");
            }
        })()
        */
    </script>
    <p>만약 즐겨찾기 바가 없다면 <code>ctrl+shift+B</code>를 통해 즐겨찾기 바를 활성화하세요.</p>
    <img src="https://raw.githubusercontent.com/ilotoki0804/WebtoonScraperDocs/main/docs/image/get-cookie.gif">
</html>